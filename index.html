<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Integrating PE with Technology CHATBOT</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px; }
    .container { width:100%; max-width:900px; background-color: rgba(255,255,255,0.95); border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,0.2); overflow:hidden; display:flex; flex-direction:column; height:90vh; }
    header { background: linear-gradient(to right, #3494E6, #EC6EAD); color:white; padding:20px; text-align:center; }
    .logo { display:flex; align-items:center; justify-content:center; margin-bottom:10px; }
    .logo-icon { font-size:28px; margin-right:10px; }
    h1 { font-size:28px; font-weight:700; }
    .tagline { font-size:16px; margin-top:5px; opacity:0.9; }
    .chat-container { flex:1; overflow-y:auto; padding:20px; background:#f9f9f9; display:flex; flex-direction:column; }
    .message { max-width:75%; padding:12px 16px; margin-bottom:15px; border-radius:18px; line-height:1.4; }
    .bot-message { background-color:#e6f7ff; border-top-left-radius:4px; align-self:flex-start; }
    .user-message { background-color:#d4edda; border-top-right-radius:4px; align-self:flex-end; margin-left:auto; }
    .input-area { display:flex; padding:15px; background-color:#f8f9fa; border-top:1px solid #e9ecef; }
    #user-input { flex:1; padding:12px 15px; border:1px solid #ced4da; border-radius:25px; outline:none; font-size:16px; }
    #send-btn, #voice-btn { color:white; border:none; border-radius:50%; width:50px; height:50px; margin-left:10px; cursor:pointer; display:flex; justify-content:center; align-items:center; }
    #send-btn { background: linear-gradient(to right, #3494E6, #EC6EAD); }
    #voice-btn { background: linear-gradient(to right, #FF416C, #FF4B2B); }
    .send-icon { font-size:18px; }
    .suggestions { display:flex; flex-wrap:wrap; gap:10px; padding:15px; background-color:#f8f9fa; border-top:1px solid #e9ecef; }
    .suggestion-btn { background-color:#e9ecef; border:none; border-radius:20px; padding:8px 15px; font-size:14px; cursor:pointer; }
    .typing-indicator { display:inline-flex; padding:12px 16px; background-color:#e6f7ff; border-radius:18px; }
    .typing-dot { width:8px; height:8px; background-color:#888; border-radius:50%; margin:0 3px; animation:typingAnimation 1.4s infinite ease-in-out; }
    @keyframes typingAnimation { 0%,60%,100%{transform:translateY(0);} 30%{transform:translateY(-5px);} }
    .api-status { display:flex; align-items:center; padding:8px 15px; background-color:#f8f9fa; border-top:1px solid #e9ecef; font-size:14px; color:#6c757d; }
    .status-indicator { width:10px; height:10px; border-radius:50%; margin-right:8px; }
    .status-live { background-color:#28a745; } .status-offline { background-color:#dc3545; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon">ðŸ¤–ðŸ’ª</div>
        <h1>Integrating PE with Technology CHATBOT</h1>
      </div>
      <p class="tagline">Your AI fitness assistant for exercise, yoga, nutrition, and health guidance</p>
    </header>
    
    <div class="chat-container" id="chat-container">
      <div class="message bot-message">Hello! I'm your PE with Technology CHATBOT. How can I assist you today?</div>
    </div>
    
    <div class="suggestions">
      <button class="suggestion-btn" data-query="How can I improve my squat form?">Squat form tips</button>
      <button class="suggestion-btn" data-query="What are some beginner yoga asanas?">Beginner yoga</button>
      <button class="suggestion-btn" data-query="What should I eat before workout?">Pre-workout nutrition</button>
      <button class="suggestion-btn" data-query="How to stay motivated to exercise?">Stay motivated</button>
    </div>
    
    <div class="input-area">
      <input type="text" id="user-input" placeholder="Ask anything...">
      <button id="send-btn"><span class="send-icon">âž¤</span></button>
    </div>
  </div>

  <script>
    const chatContainer = document.getElementById('chat-container');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');
    const suggestionBtns = document.querySelectorAll('.suggestion-btn');

    const OPENROUTER_API_KEY = "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";
    const OPENROUTER_URL = "https://openrouter.ai/api/v1/chat/completions";

    function addMessage(message, isUser = false) {
      const div = document.createElement('div');
      div.classList.add('message', isUser ? 'user-message' : 'bot-message');
      div.textContent = message;
      chatContainer.appendChild(div);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function showTyping() {
      const div = document.createElement('div');
      div.classList.add('typing-indicator');
      div.id = 'typing';
      for (let i=0;i<3;i++) {
        const dot = document.createElement('div');
        dot.classList.add('typing-dot');
        div.appendChild(dot);
      }
      chatContainer.appendChild(div);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function removeTyping() {
      const t = document.getElementById('typing');
      if (t) t.remove();
    }

    async function getBotReply(msg) {
      try {
        const res = await fetch(OPENROUTER_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${OPENROUTER_API_KEY}`
          },
          body: JSON.stringify({
            model: "openai/gpt-3.5-turbo",
            messages: [{role:"system", content:"You are a helpful assistant."}, {role:"user", content:msg}]
          })
        });
        const data = await res.json();
        return data.choices?.[0]?.message?.content || "Sorry, I couldnâ€™t understand.";
      } catch(e) {
        console.error(e);
        return "Error connecting to API.";
      }
    }

    async function handleMessage() {
      const msg = userInput.value.trim();
      if (!msg) return;
      addMessage(msg,true);
      userInput.value="";
      showTyping();
      const reply = await getBotReply(msg);
      removeTyping();
      addMessage(reply,false);
    }

    sendBtn.addEventListener('click', handleMessage);
    userInput.addEventListener('keypress', e => { if(e.key==="Enter") handleMessage(); });
    suggestionBtns.forEach(b => b.addEventListener('click', ()=>{ userInput.value=b.dataset.query; handleMessage(); }));
  </script>
</body>
</html>
